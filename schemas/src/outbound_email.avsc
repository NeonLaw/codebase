{
  "namespace": "com.neon_law.email",
  "name": "outbound_email",
  "type": "record",
  "fields": [
    {
      "name": "email",
      "type": "string",
      "doc": "The 'to' email to send the email to."
    },
    {
      "name": "email_type",
      "type": [
        {
          "type" : "record",
          "name" : "new_registration",
          "namespace" : "com.neon_law.email",
          "fields" : [
            {
              "type" : "string",
              "name" : "sub"
            },
            {
              "type" : "string",
              "name" : "template",
              "pattern": "^new_registration$"
            }
          ],
          "doc:" : "Subscribers to this message can send a welcome email."
        },
        {
          "type" : "record",
          "name" : "new_document",
          "namespace" : "com.neon_law.email",
          "fields" : [
            {
              "type" : "string",
              "name" : "sub"
            },
            {
              "type" : "string",
              "name" : "template",
              "pattern": "^new_registration$"
            }
          ],
          "doc:" : "Subscribers to this message can send a welcome email."
        }
      ]
    }
  ]
}
